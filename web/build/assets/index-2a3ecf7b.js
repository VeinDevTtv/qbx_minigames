var Qt=Object.defineProperty;var $t=(l,e,t)=>e in l?Qt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var _e=(l,e,t)=>($t(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function V(){}function Zt(l){return l()}function $e(){return Object.create(null)}function Fe(l){l.forEach(Zt)}function Ht(l){return typeof l=="function"}function Ce(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function xt(l){return Object.keys(l).length===0}const el=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function d(l,e){l.appendChild(e)}function C(l,e,t){l.insertBefore(e,t||null)}function y(l){l.parentNode&&l.parentNode.removeChild(l)}function $(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function p(l){return document.createElement(l)}function F(l){return document.createTextNode(l)}function R(){return F(" ")}function Ge(){return F("")}function oe(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function m(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function tl(l){return Array.from(l.childNodes)}function Q(l,e){e=""+e,l.data!==e&&(l.data=e)}function W(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function ae(l,e,t){l.classList.toggle(e,!!t)}function ll(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let Ie;function je(l){Ie=l}function Jt(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function Ee(l){Jt().$$.on_mount.push(l)}function Me(){const l=Jt();return(e,t,{cancelable:n=!1}={})=>{const i=l.$$.callbacks[e];if(i){const o=ll(e,t,{cancelable:n});return i.slice().forEach(r=>{r.call(l,o)}),!o.defaultPrevented}return!0}}const ke=[],xe=[];let ye=[];const et=[],nl=Promise.resolve();let Xe=!1;function il(){Xe||(Xe=!0,nl.then(Vt))}function Ze(l){ye.push(l)}const Be=new Set;let be=0;function Vt(){if(be!==0)return;const l=Ie;do{try{for(;be<ke.length;){const e=ke[be];be++,je(e),ol(e.$$)}}catch(e){throw ke.length=0,be=0,e}for(je(null),ke.length=0,be=0;xe.length;)xe.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];Be.has(t)||(Be.add(t),t())}ye.length=0}while(ke.length);for(;et.length;)et.pop()();Xe=!1,Be.clear(),je(l)}function ol(l){if(l.fragment!==null){l.update(),Fe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ze)}}function rl(l){const e=[],t=[];ye.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ye=e}const De=new Set;let ge;function Kt(){ge={r:0,c:[],p:ge}}function Wt(){ge.r||Fe(ge.c),ge=ge.p}function ce(l,e){l&&l.i&&(De.delete(l),l.i(e))}function he(l,e,t,n){if(l&&l.o){if(De.has(l))return;De.add(l),ge.c.push(()=>{De.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Z(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Oe(l){l&&l.c()}function Se(l,e,t){const{fragment:n,after_update:i}=l.$$;n&&n.m(e,t),Ze(()=>{const o=l.$$.on_mount.map(Zt).filter(Ht);l.$$.on_destroy?l.$$.on_destroy.push(...o):Fe(o),l.$$.on_mount=[]}),i.forEach(Ze)}function Te(l,e){const t=l.$$;t.fragment!==null&&(rl(t.after_update),Fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function sl(l,e){l.$$.dirty[0]===-1&&(ke.push(l),il(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ze(l,e,t,n,i,o,r=null,f=[-1]){const u=Ie;je(l);const c=l.$$={fragment:null,ctx:[],props:o,update:V,not_equal:i,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$e(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};r&&r(c.root);let b=!1;if(c.ctx=t?t(l,e.props||{},(h,k,...z)=>{const E=z.length?z[0]:k;return c.ctx&&i(c.ctx[h],c.ctx[h]=E)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](E),b&&sl(l,h)),k}):[],c.update(),b=!0,Fe(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const h=tl(e.target);c.fragment&&c.fragment.l(h),h.forEach(y)}else c.fragment&&c.fragment.c();e.intro&&ce(l.$$.fragment),Se(l,e.target,e.anchor),Vt()}je(u)}class Le{constructor(){_e(this,"$$");_e(this,"$$set")}$destroy(){Te(this,1),this.$destroy=V}$on(e,t){if(!Ht(t))return V;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!xt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(cl);const J=(l,e=.5,t=!0)=>{if(!t)return null;const n=new Audio(`sounds/${l}.mp3`);return n.volume=e,n.play().catch(i=>console.error("Failed to play sound:",i)),n};class we{constructor(e,t,n){_e(this,"startTime");_e(this,"duration");_e(this,"timerInterval",null);_e(this,"onUpdateCallback");_e(this,"onCompleteCallback");this.startTime=Date.now(),this.duration=e,this.onUpdateCallback=t,this.onCompleteCallback=n}start(){this.startTime=Date.now(),this.timerInterval=setInterval(()=>{const e=Date.now()-this.startTime,t=Math.max(0,this.duration-e);this.onUpdateCallback(t),t<=0&&(this.stop(),this.onCompleteCallback())},10)}stop(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}reset(){this.stop(),this.startTime=Date.now()}isRunning(){return this.timerInterval!==null}}const de=(l,e)=>(l=Math.ceil(l),e=Math.floor(e),Math.floor(Math.random()*(e-l+1))+l),fl=l=>{const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},tt=(l,e,t)=>Array(l).fill(null).map(()=>Array(e).fill(t));function lt(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function nt(l,e,t){const n=l.slice();return n[24]=e[t],n[26]=t,n}function ul(l){let e;return{c(){e=p("div"),e.textContent="FAILED",m(e,"class","phase failure svelte-bly52u")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function al(l){let e;return{c(){e=p("div"),e.textContent="SUCCESS",m(e,"class","phase success svelte-bly52u")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function dl(l){let e;return{c(){e=p("div"),e.textContent="REPEAT",m(e,"class","phase svelte-bly52u")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function hl(l){let e;return{c(){e=p("div"),e.textContent="OBSERVE",m(e,"class","phase svelte-bly52u")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function it(l){let e,t,n,i;function o(){return l[8](l[24])}return{c(){e=p("div"),m(e,"id",t="tile-"+l[24]),m(e,"class","tile svelte-bly52u")},m(r,f){C(r,e,f),n||(i=oe(e,"click",o),n=!0)},p(r,f){l=r,f&4&&t!==(t="tile-"+l[24])&&m(e,"id",t)},d(r){r&&y(e),n=!1,i()}}}function ot(l){let e,t=Z(l[21]),n=[];for(let i=0;i<t.length;i+=1)n[i]=it(nt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ge()},m(i,o){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,o);C(i,e,o)},p(i,o){if(o&36){t=Z(i[21]);let r;for(r=0;r<t.length;r+=1){const f=nt(i,t,r);n[r]?n[r].p(f,o):(n[r]=it(f),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&y(e),$(n,i)}}}function _l(l){let e;return{c(){e=F("Incorrect sequence. Try again!")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ml(l){let e;return{c(){e=F("Sequence completed successfully!")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function pl(l){let e;return{c(){e=F("Repeat the sequence in the correct order")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function gl(l){let e;return{c(){e=F("Memorize the sequence")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function vl(l){let e,t,n,i,o,r,f,u,c,b,h,k,z,E,D,A,P,L,M;function O(s,a){if(s[1]==="observing")return hl;if(s[1]==="input")return dl;if(s[1]==="success")return al;if(s[1]==="failure")return ul}let N=O(l),q=N&&N(l),I=Z(l[2]),g=[];for(let s=0;s<I.length;s+=1)g[s]=ot(lt(l,I,s));function j(s,a){if(s[1]==="observing")return gl;if(s[1]==="input")return pl;if(s[1]==="success")return ml;if(s[1]==="failure")return _l}let T=j(l),w=T&&T(l);return{c(){e=p("div"),t=p("div"),n=p("h2"),n.textContent="Memory Sequence",i=R(),o=p("div"),q&&q.c(),r=R(),f=p("div"),u=F(l[4]),c=F("s"),b=R(),h=p("div");for(let s=0;s<g.length;s+=1)g[s].c();k=R(),z=p("div"),E=p("div"),w&&w.c(),D=R(),A=p("button"),A.textContent="EXIT",m(n,"class","svelte-bly52u"),m(f,"class","timer svelte-bly52u"),m(o,"class","status svelte-bly52u"),m(t,"class","header svelte-bly52u"),m(h,"class","grid svelte-bly52u"),W(h,"grid-template-columns","repeat("+l[0].gridSize+", 1fr)"),m(E,"class","instructions svelte-bly52u"),m(A,"class","exit-button svelte-bly52u"),m(z,"class","footer svelte-bly52u"),m(e,"class",P="memory-sequence-container "+l[3]+" svelte-bly52u")},m(s,a){C(s,e,a),d(e,t),d(t,n),d(t,i),d(t,o),q&&q.m(o,null),d(o,r),d(o,f),d(f,u),d(f,c),d(e,b),d(e,h);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(h,null);d(e,k),d(e,z),d(z,E),w&&w.m(E,null),d(z,D),d(z,A),L||(M=oe(A,"click",l[6]),L=!0)},p(s,[a]){if(N!==(N=O(s))&&(q&&q.d(1),q=N&&N(s),q&&(q.c(),q.m(o,r))),a&16&&Q(u,s[4]),a&36){I=Z(s[2]);let _;for(_=0;_<I.length;_+=1){const v=lt(s,I,_);g[_]?g[_].p(v,a):(g[_]=ot(v),g[_].c(),g[_].m(h,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=I.length}a&1&&W(h,"grid-template-columns","repeat("+s[0].gridSize+", 1fr)"),T!==(T=j(s))&&(w&&w.d(1),w=T&&T(s),w&&(w.c(),w.m(E,null))),a&8&&P!==(P="memory-sequence-container "+s[3]+" svelte-bly52u")&&m(e,"class",P)},i:V,o:V,d(s){s&&y(e),q&&q.d(),$(g,s),w&&w.d(),L=!1,M()}}}function bl(l,e,t){let n,i,{config:o}=e;const r=Me();let f="idle",u=[],c=[],b=0,h=o.duration,k=[],z;Ee(()=>(E(),D(),z=new we(o.duration,g=>{t(7,h=g)},()=>{f==="observing"?L():f==="input"&&O(!1)}),A(),()=>{z&&z.stop()}));function E(){t(2,k=[]);const g=o.gridSize;for(let j=0;j<g;j++){const T=[];for(let w=0;w<g;w++)T.push(j*g+w);k.push(T)}}function D(){u=[];const g=o.gridSize,j=g*g;for(let T=0;T<o.sequenceLength;T++){let w;do w=de(0,j-1);while(u.includes(w));u.push(w)}}function A(){J("start",.7,o.soundEnabled),t(1,f="observing"),c=[],b=0,z.start(),P()}async function P(){for(let g=0;g<u.length;g++){const j=document.getElementById(`tile-${u[g]}`);j&&j.classList.remove("highlight")}for(let g=0;g<u.length;g++){await new Promise(T=>setTimeout(T,800));const j=document.getElementById(`tile-${u[g]}`);j&&(j.classList.add("highlight"),J("beep",.3,o.soundEnabled),setTimeout(()=>{j.classList.remove("highlight")},600))}}function L(){t(1,f="input"),c=[],b=0,z.reset(),z.start(),J("phase_change",.5,o.soundEnabled)}function M(g){if(f!=="input")return;const j=document.getElementById(`tile-${g}`);j&&(j.classList.add("clicked"),setTimeout(()=>{j.classList.remove("clicked")},300),c.push(g),g===u[b]?(J("correct",.5,o.soundEnabled),b++,b===u.length&&O(!0)):(J("error",.5,o.soundEnabled),O(!1)))}function O(g){z.stop(),t(1,f=g?"success":"failure"),J(g?"success":"failure",.5,o.soundEnabled),g||N(),setTimeout(()=>{r("complete",{success:g,data:{timeRemaining:h,sequenceLength:u.length,playerSequence:c}})},1500)}async function N(){for(let g=0;g<u.length;g++){const j=document.getElementById(`tile-${u[g]}`);j&&(await new Promise(T=>setTimeout(T,400)),j.classList.add("correct"))}}function q(){z&&z.stop(),r("exit")}const I=g=>M(g);return l.$$set=g=>{"config"in g&&t(0,o=g.config)},l.$$.update=()=>{l.$$.dirty&128&&t(4,n=(h/1e3).toFixed(1)),l.$$.dirty&1&&t(3,i=`difficulty-${o.difficulty}`)},[o,f,k,i,n,M,q,h,I]}class kl extends Le{constructor(e){super(),ze(this,e,bl,vl,Ce,{config:0})}}function rt(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function st(l,e,t){const n=l.slice();return n[28]=e[t],n[30]=t,n}function yl(l){let e;return{c(){e=p("div"),e.textContent="FAILED",m(e,"class","phase failure svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function wl(l){let e;return{c(){e=p("div"),e.textContent="SUCCESS",m(e,"class","phase success svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Cl(l){let e;return{c(){e=p("div"),e.textContent="CONNECT",m(e,"class","phase svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ct(l){let e,t,n,i,o,r;function f(h,k){if(h[28].type==="straight")return Al;if(h[28].type==="corner")return Ll;if(h[28].type==="three-way")return zl;if(h[28].type==="four-way")return Tl;if(h[28].type==="source")return Sl;if(h[28].type==="destination")return El}let u=f(l),c=u&&u(l);function b(){return l[8](l[27],l[30])}return{c(){e=p("div"),t=p("div"),c&&c.c(),n=R(),m(t,"class","piece-inner svelte-1fxt5p4"),m(e,"class",i="circuit-piece "+l[28].type+" "+(l[28].powered?"powered":"")+" svelte-1fxt5p4"),W(e,"transform","rotate("+l[28].rotation+"deg)")},m(h,k){C(h,e,k),d(e,t),c&&c.m(t,null),d(e,n),o||(r=oe(e,"click",b),o=!0)},p(h,k){l=h,u!==(u=f(l))&&(c&&c.d(1),c=u&&u(l),c&&(c.c(),c.m(t,null))),k&4&&i!==(i="circuit-piece "+l[28].type+" "+(l[28].powered?"powered":"")+" svelte-1fxt5p4")&&m(e,"class",i),k&4&&W(e,"transform","rotate("+l[28].rotation+"deg)")},d(h){h&&y(e),c&&c.d(),o=!1,r()}}}function El(l){let e;return{c(){e=p("div"),m(e,"class","connector destination svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Sl(l){let e;return{c(){e=p("div"),m(e,"class","connector source svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Tl(l){let e;return{c(){e=p("div"),m(e,"class","connector four-way svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function zl(l){let e;return{c(){e=p("div"),m(e,"class","connector three-way svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Ll(l){let e;return{c(){e=p("div"),m(e,"class","connector corner svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Al(l){let e;return{c(){e=p("div"),m(e,"class","connector vertical svelte-1fxt5p4")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ft(l){let e,t=l[28]&&ct(l);return{c(){t&&t.c(),e=Ge()},m(n,i){t&&t.m(n,i),C(n,e,i)},p(n,i){n[28]?t?t.p(n,i):(t=ct(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&y(e),t&&t.d(n)}}}function ut(l){let e,t=Z(l[25]),n=[];for(let i=0;i<t.length;i+=1)n[i]=ft(st(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ge()},m(i,o){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,o);C(i,e,o)},p(i,o){if(o&36){t=Z(i[25]);let r;for(r=0;r<t.length;r+=1){const f=st(i,t,r);n[r]?n[r].p(f,o):(n[r]=ft(f),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&y(e),$(n,i)}}}function Pl(l){let e;return{c(){e=F("Failed to connect the circuit in time.")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function jl(l){let e;return{c(){e=F("Circuit successfully connected!")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Il(l){let e;return{c(){e=F("Rotate the circuit pieces to connect power from source to destination")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Fl(l){let e,t,n,i,o,r,f,u,c,b,h,k,z,E,D,A,P,L,M;function O(s,a){if(s[1]==="playing")return Cl;if(s[1]==="success")return wl;if(s[1]==="failure")return yl}let N=O(l),q=N&&N(l),I=Z(l[2]),g=[];for(let s=0;s<I.length;s+=1)g[s]=ut(rt(l,I,s));function j(s,a){if(s[1]==="playing")return Il;if(s[1]==="success")return jl;if(s[1]==="failure")return Pl}let T=j(l),w=T&&T(l);return{c(){e=p("div"),t=p("div"),n=p("h2"),n.textContent="Circuit Solver",i=R(),o=p("div"),q&&q.c(),r=R(),f=p("div"),u=F(l[4]),c=F("s"),b=R(),h=p("div");for(let s=0;s<g.length;s+=1)g[s].c();k=R(),z=p("div"),E=p("div"),w&&w.c(),D=R(),A=p("button"),A.textContent="EXIT",m(n,"class","svelte-1fxt5p4"),m(f,"class","timer svelte-1fxt5p4"),m(o,"class","status svelte-1fxt5p4"),m(t,"class","header svelte-1fxt5p4"),m(h,"class","grid svelte-1fxt5p4"),W(h,"grid-template-columns","repeat("+l[0].gridSize+", 1fr)"),m(E,"class","instructions svelte-1fxt5p4"),m(A,"class","exit-button svelte-1fxt5p4"),m(z,"class","footer svelte-1fxt5p4"),m(e,"class",P="circuit-solver-container "+l[3]+" svelte-1fxt5p4")},m(s,a){C(s,e,a),d(e,t),d(t,n),d(t,i),d(t,o),q&&q.m(o,null),d(o,r),d(o,f),d(f,u),d(f,c),d(e,b),d(e,h);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(h,null);d(e,k),d(e,z),d(z,E),w&&w.m(E,null),d(z,D),d(z,A),L||(M=oe(A,"click",l[6]),L=!0)},p(s,[a]){if(N!==(N=O(s))&&(q&&q.d(1),q=N&&N(s),q&&(q.c(),q.m(o,r))),a&16&&Q(u,s[4]),a&36){I=Z(s[2]);let _;for(_=0;_<I.length;_+=1){const v=rt(s,I,_);g[_]?g[_].p(v,a):(g[_]=ut(v),g[_].c(),g[_].m(h,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=I.length}a&1&&W(h,"grid-template-columns","repeat("+s[0].gridSize+", 1fr)"),T!==(T=j(s))&&(w&&w.d(1),w=T&&T(s),w&&(w.c(),w.m(E,null))),a&8&&P!==(P="circuit-solver-container "+s[3]+" svelte-1fxt5p4")&&m(e,"class",P)},i:V,o:V,d(s){s&&y(e),q&&q.d(),$(g,s),w&&w.d(),L=!1,M()}}}function Ue(l,e){const t={...l};for(let n=0;n<e/90;n++){const i=t.top;t.top=t.left,t.left=t.bottom,t.bottom=t.right,t.right=i}return t}function Ml(l,e,t){let n,i,{config:o}=e;const r=Me();let f="idle",u=o.duration,c=[],b,h,k;const z={straight:{top:!0,right:!1,bottom:!0,left:!1},corner:{top:!0,right:!0,bottom:!1,left:!1},"three-way":{top:!0,right:!0,bottom:!0,left:!1},"four-way":{top:!0,right:!0,bottom:!0,left:!0},empty:{top:!1,right:!1,bottom:!1,left:!1},source:{top:!1,right:!0,bottom:!1,left:!1},destination:{top:!1,right:!1,bottom:!1,left:!0}};Ee(()=>(E(),b=new we(o.duration,s=>{t(7,u=s)},()=>{j(!1)}),O(),()=>{b&&b.stop()}));function E(){const s=o.gridSize;t(2,c=tt(s,s,null)),D(s),A(s),M()}function D(s){if(Math.random()<.5){const _=de(0,s-1);h={row:_,col:0},k={row:_,col:s-1},t(2,c[_][0]=L("source",0),c),t(2,c[_][s-1]=L("destination",0),c)}else{const _=de(0,s-1);h={row:0,col:_},k={row:s-1,col:_},t(2,c[0][_]=L("source",90),c),t(2,c[s-1][_]=L("destination",270),c)}}function A(s){P();for(let a=0;a<s;a++)for(let _=0;_<s;_++)if(!c[a][_]){const v=["straight","corner","three-way","four-way","empty"],S=v[de(0,v.length-1)];t(2,c[a][_]=L(S,0),c)}}function P(){let s={...h};const a={...k},_=tt(c.length,c[0].length,!1);for(_[s.row][s.col]=!0;s.row!==a.row||s.col!==a.col;){const v=[];if(s.row<a.row&&!_[s.row+1][s.col]&&v.push({row:s.row+1,col:s.col,dir:"down"}),s.row>a.row&&!_[s.row-1][s.col]&&v.push({row:s.row-1,col:s.col,dir:"up"}),s.col<a.col&&!_[s.row][s.col+1]&&v.push({row:s.row,col:s.col+1,dir:"right"}),s.col>a.col&&!_[s.row][s.col-1]&&v.push({row:s.row,col:s.col-1,dir:"left"}),v.length===0&&(s.row<c.length-1&&!_[s.row+1][s.col]&&v.push({row:s.row+1,col:s.col,dir:"down"}),s.row>0&&!_[s.row-1][s.col]&&v.push({row:s.row-1,col:s.col,dir:"up"}),s.col<c[0].length-1&&!_[s.row][s.col+1]&&v.push({row:s.row,col:s.col+1,dir:"right"}),s.col>0&&!_[s.row][s.col-1]&&v.push({row:s.row,col:s.col-1,dir:"left"})),v.length===0)break;const S=v[de(0,v.length-1)];if(!c[s.row][s.col]||!c[s.row][s.col].fixed){let X,G=0;S.dir==="right"||S.dir==="left"?(X="straight",G=90):(S.dir,X="straight",G=0),t(2,c[s.row][s.col]=L(X,G),c)}s={row:S.row,col:S.col},_[s.row][s.col]=!0}}function L(s,a){const _={...z[s]},v=Ue(_,a);return{type:s,rotation:a,connections:v,powered:s==="source",fixed:s==="source"||s==="destination"}}function M(){for(let s=0;s<c.length;s++)for(let a=0;a<c[0].length;a++){const _=c[s][a];if(_&&!_.fixed){const S=[0,90,180,270][de(0,3)];_.rotation=S,_.connections=Ue(z[_.type],S)}}}function O(){J("start",.7,o.soundEnabled),t(1,f="playing"),b.start()}function N(s,a){if(f!=="playing")return;const _=c[s][a];!_||_.fixed||(_.rotation=(_.rotation+90)%360,_.connections=Ue(z[_.type],_.rotation),J("rotate",.3,o.soundEnabled),q(),g())}function q(){for(let s=0;s<c.length;s++)for(let a=0;a<c[0].length;a++){const _=c[s][a];_&&_.type!=="source"&&(_.powered=!1)}I(h.row,h.col)}function I(s,a){const _=c[s][a];if(!(!_||!_.powered)){if(_.connections.top&&s>0){const v=c[s-1][a];v&&v.connections.bottom&&!v.powered&&(v.powered=!0,I(s-1,a))}if(_.connections.right&&a<c[0].length-1){const v=c[s][a+1];v&&v.connections.left&&!v.powered&&(v.powered=!0,I(s,a+1))}if(_.connections.bottom&&s<c.length-1){const v=c[s+1][a];v&&v.connections.top&&!v.powered&&(v.powered=!0,I(s+1,a))}if(_.connections.left&&a>0){const v=c[s][a-1];v&&v.connections.right&&!v.powered&&(v.powered=!0,I(s,a-1))}}}function g(){c[k.row][k.col].powered&&j(!0)}function j(s){b.stop(),t(1,f=s?"success":"failure"),J(s?"success":"failure",.5,o.soundEnabled),setTimeout(()=>{r("complete",{success:s,data:{timeRemaining:u}})},1500)}function T(){b&&b.stop(),r("exit")}const w=(s,a)=>N(s,a);return l.$$set=s=>{"config"in s&&t(0,o=s.config)},l.$$.update=()=>{l.$$.dirty&128&&t(4,n=(u/1e3).toFixed(1)),l.$$.dirty&1&&t(3,i=`difficulty-${o.difficulty}`)},[o,f,c,i,n,N,T,u,w]}class Ol extends Le{constructor(e){super(),ze(this,e,Ml,Fl,Ce,{config:0})}}function at(l,e,t){const n=l.slice();return n[25]=e[t],n}function dt(l,e,t){const n=l.slice();return n[25]=e[t],n}function ht(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function _t(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function mt(l,e,t){const n=l.slice();return n[25]=e[t],n[35]=t,n}function pt(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function gt(l,e,t){const n=l.slice();return n[25]=e[t],n[35]=t,n}function vt(l){let e;return{c(){e=p("div"),m(e,"class","peg svelte-7k6htv"),W(e,"background-color",l[25])},m(t,n){C(t,e,n)},p(t,n){n[0]&10&&W(e,"background-color",t[25])},d(t){t&&y(e)}}}function bt(l){let e,t,n,i,o,r,f=l[4][l[32]].correct+"",u,c,b,h,k=l[4][l[32]].misplaced+"",z,E,D,A=Z(l[30]),P=[];for(let L=0;L<A.length;L+=1)P[L]=vt(gt(l,A,L));return{c(){e=p("div"),t=p("div");for(let L=0;L<P.length;L+=1)P[L].c();n=R(),i=p("div"),o=p("div"),r=p("span"),u=F(f),c=F(" ✓"),b=R(),h=p("span"),z=F(k),E=F(" ◎"),D=R(),m(t,"class","pegs svelte-7k6htv"),m(r,"class","correct svelte-7k6htv"),m(h,"class","misplaced svelte-7k6htv"),m(o,"class","feedback-text svelte-7k6htv"),m(i,"class","feedback svelte-7k6htv"),m(e,"class","attempt svelte-7k6htv")},m(L,M){C(L,e,M),d(e,t);for(let O=0;O<P.length;O+=1)P[O]&&P[O].m(t,null);d(e,n),d(e,i),d(i,o),d(o,r),d(r,u),d(r,c),d(o,b),d(o,h),d(h,z),d(h,E),d(e,D)},p(L,M){if(M[0]&10){A=Z(L[30]);let O;for(O=0;O<A.length;O+=1){const N=gt(L,A,O);P[O]?P[O].p(N,M):(P[O]=vt(N),P[O].c(),P[O].m(t,null))}for(;O<P.length;O+=1)P[O].d(1);P.length=A.length}M[0]&16&&f!==(f=L[4][L[32]].correct+"")&&Q(u,f),M[0]&16&&k!==(k=L[4][L[32]].misplaced+"")&&Q(z,k)},d(L){L&&y(e),$(P,L)}}}function kt(l){let e,t,n,i,o,r,f,u=Z(l[6]),c=[];for(let b=0;b<u.length;b+=1)c[b]=yt(mt(l,u,b));return{c(){e=p("div"),t=p("div");for(let b=0;b<c.length;b+=1)c[b].c();n=R(),i=p("div"),o=p("button"),o.textContent="Submit",m(t,"class","pegs svelte-7k6htv"),m(o,"class","submit-btn svelte-7k6htv"),m(i,"class","controls svelte-7k6htv"),m(e,"class","attempt current svelte-7k6htv")},m(b,h){C(b,e,h),d(e,t);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(t,null);d(e,n),d(e,i),d(i,o),r||(f=oe(o,"click",l[13]),r=!0)},p(b,h){if(h[0]&2240){u=Z(b[6]);let k;for(k=0;k<u.length;k+=1){const z=mt(b,u,k);c[k]?c[k].p(z,h):(c[k]=yt(z),c[k].c(),c[k].m(t,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=u.length}},d(b){b&&y(e),$(c,b),r=!1,f()}}}function yt(l){let e,t,n,i,o;function r(){return l[16](l[35])}return{c(){e=p("div"),m(e,"class",t="peg "+(l[7]===l[35]?"selected":"")+" "+(l[25]?"":"empty")+" svelte-7k6htv"),m(e,"style",n=l[25]?`background-color: ${l[25]}`:"")},m(f,u){C(f,e,u),i||(o=oe(e,"click",r),i=!0)},p(f,u){l=f,u[0]&192&&t!==(t="peg "+(l[7]===l[35]?"selected":"")+" "+(l[25]?"":"empty")+" svelte-7k6htv")&&m(e,"class",t),u[0]&64&&n!==(n=l[25]?`background-color: ${l[25]}`:"")&&m(e,"style",n)},d(f){f&&y(e),i=!1,o()}}}function wt(l){let e;return{c(){e=p("div"),m(e,"class","peg empty svelte-7k6htv")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function Ct(l){let e,t,n,i=Z(Array(l[0].codeLength).fill(null)),o=[];for(let r=0;r<i.length;r+=1)o[r]=wt(_t(l,i,r));return{c(){e=p("div"),t=p("div");for(let r=0;r<o.length;r+=1)o[r].c();n=R(),m(t,"class","pegs svelte-7k6htv"),m(e,"class","attempt future svelte-7k6htv")},m(r,f){C(r,e,f),d(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);d(e,n)},p(r,f){if(f[0]&1){i=Z(Array(r[0].codeLength).fill(null));let u;for(u=0;u<i.length;u+=1){const c=_t(r,i,u);o[u]?o[u].p(c,f):(o[u]=wt(),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(r){r&&y(e),$(o,r)}}}function Et(l){let e,t=Z(l[10]),n=[];for(let i=0;i<t.length;i+=1)n[i]=St(dt(l,t,i));return{c(){e=p("div");for(let i=0;i<n.length;i+=1)n[i].c();m(e,"class","color-palette svelte-7k6htv")},m(i,o){C(i,e,o);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,o){if(o[0]&5120){t=Z(i[10]);let r;for(r=0;r<t.length;r+=1){const f=dt(i,t,r);n[r]?n[r].p(f,o):(n[r]=St(f),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&y(e),$(n,i)}}}function St(l){let e,t,n;function i(){return l[17](l[25])}return{c(){e=p("div"),m(e,"class","color-option svelte-7k6htv"),W(e,"background-color",l[25])},m(o,r){C(o,e,r),t||(n=oe(e,"click",i),t=!0)},p(o,r){l=o},d(o){o&&y(e),t=!1,n()}}}function Tt(l){let e;function t(o,r){return o[2]==="success"?Rl:ql}let n=t(l),i=n(l);return{c(){e=p("div"),i.c(),m(e,"class","game-over svelte-7k6htv")},m(o,r){C(o,e,r),i.m(e,null)},p(o,r){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&y(e),i.d()}}}function ql(l){let e,t,n,i,o,r,f=Z(l[5]),u=[];for(let c=0;c<f.length;c+=1)u[c]=zt(at(l,f,c));return{c(){e=p("h2"),e.textContent="Code Not Cracked",t=R(),n=p("div"),i=p("span"),i.textContent="The secret code was:",o=R(),r=p("div");for(let c=0;c<u.length;c+=1)u[c].c();m(e,"class","failure-message svelte-7k6htv"),m(r,"class","pegs svelte-7k6htv"),m(n,"class","secret-code svelte-7k6htv")},m(c,b){C(c,e,b),C(c,t,b),C(c,n,b),d(n,i),d(n,o),d(n,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null)},p(c,b){if(b[0]&32){f=Z(c[5]);let h;for(h=0;h<f.length;h+=1){const k=at(c,f,h);u[h]?u[h].p(k,b):(u[h]=zt(k),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=f.length}},d(c){c&&(y(e),y(t),y(n)),$(u,c)}}}function Rl(l){let e;return{c(){e=p("h2"),e.textContent="Code Cracked!",m(e,"class","success-message svelte-7k6htv")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function zt(l){let e;return{c(){e=p("div"),m(e,"class","peg svelte-7k6htv"),W(e,"background-color",l[25])},m(t,n){C(t,e,n)},p(t,n){n[0]&32&&W(e,"background-color",t[25])},d(t){t&&y(e)}}}function Dl(l){let e,t,n,i,o,r,f,u,c,b,h,k,z,E,D,A,P,L,M,O,N,q=Z(l[3].slice(0,l[1])),I=[];for(let a=0;a<q.length;a+=1)I[a]=bt(pt(l,q,a));let g=l[2]==="playing"&&kt(l),j=Z(l[3].slice(l[1]+1)),T=[];for(let a=0;a<j.length;a+=1)T[a]=Ct(ht(l,j,a));let w=l[2]==="playing"&&Et(l),s=(l[2]==="success"||l[2]==="failure")&&Tt(l);return{c(){e=p("div"),t=p("div"),n=p("div"),i=F("Time: "),o=F(l[9]),r=F("s"),f=R(),u=p("div"),c=F("Attempts: "),b=F(l[8]),h=R(),k=p("div");for(let a=0;a<I.length;a+=1)I[a].c();z=R(),g&&g.c(),E=R();for(let a=0;a<T.length;a+=1)T[a].c();D=R(),w&&w.c(),A=R(),s&&s.c(),P=R(),L=p("div"),M=p("button"),M.textContent="Exit",m(n,"class","timer svelte-7k6htv"),m(u,"class","attempts svelte-7k6htv"),m(t,"class","header svelte-7k6htv"),m(k,"class","game-board svelte-7k6htv"),m(M,"class","exit-btn svelte-7k6htv"),m(L,"class","footer svelte-7k6htv"),m(e,"class","code-cracker svelte-7k6htv")},m(a,_){C(a,e,_),d(e,t),d(t,n),d(n,i),d(n,o),d(n,r),d(t,f),d(t,u),d(u,c),d(u,b),d(e,h),d(e,k);for(let v=0;v<I.length;v+=1)I[v]&&I[v].m(k,null);d(k,z),g&&g.m(k,null),d(k,E);for(let v=0;v<T.length;v+=1)T[v]&&T[v].m(k,null);d(e,D),w&&w.m(e,null),d(e,A),s&&s.m(e,null),d(e,P),d(e,L),d(L,M),O||(N=oe(M,"click",l[14]),O=!0)},p(a,_){if(_[0]&512&&Q(o,a[9]),_[0]&256&&Q(b,a[8]),_[0]&26){q=Z(a[3].slice(0,a[1]));let v;for(v=0;v<q.length;v+=1){const S=pt(a,q,v);I[v]?I[v].p(S,_):(I[v]=bt(S),I[v].c(),I[v].m(k,z))}for(;v<I.length;v+=1)I[v].d(1);I.length=q.length}if(a[2]==="playing"?g?g.p(a,_):(g=kt(a),g.c(),g.m(k,E)):g&&(g.d(1),g=null),_[0]&11){j=Z(a[3].slice(a[1]+1));let v;for(v=0;v<j.length;v+=1){const S=ht(a,j,v);T[v]?T[v].p(S,_):(T[v]=Ct(S),T[v].c(),T[v].m(k,null))}for(;v<T.length;v+=1)T[v].d(1);T.length=j.length}a[2]==="playing"?w?w.p(a,_):(w=Et(a),w.c(),w.m(e,A)):w&&(w.d(1),w=null),a[2]==="success"||a[2]==="failure"?s?s.p(a,_):(s=Tt(a),s.c(),s.m(e,P)):s&&(s.d(1),s=null)},i:V,o:V,d(a){a&&y(e),$(I,a),g&&g.d(),$(T,a),w&&w.d(),s&&s.d(),O=!1,N()}}}function Gl(l,e,t){let n,i,{config:o}=e;const r=Me();let f="idle",u=o.duration,c,b=0,h=[],k=[],z=[],E=[],D=0;const A=["#FF5252","#4CAF50","#2196F3","#FFC107","#9C27B0","#FF9800","#00BCD4","#607D8B"];Ee(()=>(P(),L(),c=new we(o.duration,s=>{t(15,u=s)},()=>{g(!1)}),M(),()=>{c&&c.stop()}));function P(){t(5,z=[]);for(let s=0;s<o.codeLength;s++){const a=de(0,A.length-1);z.push(A[a])}}function L(){t(3,h=Array(o.attempts).fill(null).map(()=>Array(o.codeLength).fill(null))),t(4,k=Array(o.attempts).fill(null).map(()=>({correct:0,misplaced:0}))),t(6,E=Array(o.codeLength).fill(null)),t(1,b=0),t(7,D=0)}function M(){t(2,f="playing"),c.start(),J("start",.7,o.soundEnabled)}function O(s){f==="playing"&&(t(7,D=s),J("beep",.3,o.soundEnabled))}function N(s){f==="playing"&&(t(6,E[D]=s,E),D<o.codeLength-1&&t(7,D++,D),J("correct",.3,o.soundEnabled))}function q(){if(f!=="playing")return;if(E.includes(null)){J("error",.5,o.soundEnabled);return}t(3,h[b]=[...E],h);const s=I(E,z);if(t(4,k[b]=s,k),s.correct===o.codeLength){g(!0);return}if(b>=o.attempts-1){g(!1);return}t(1,b++,b),t(6,E=Array(o.codeLength).fill(null)),t(7,D=0),J("phase_change",.5,o.soundEnabled)}function I(s,a){let _=0,v=0;const S=[...s],X=[...a];for(let G=0;G<o.codeLength;G++)S[G]===X[G]&&(_++,S[G]=null,X[G]=null);for(let G=0;G<o.codeLength;G++)if(S[G]!==null){const fe=X.findIndex(se=>se===S[G]);fe!==-1&&(v++,X[fe]=null)}return{correct:_,misplaced:v}}function g(s){c.stop(),t(2,f=s?"success":"failure"),J(s?"success":"failure",.5,o.soundEnabled),setTimeout(()=>{r("complete",{success:s,data:{timeRemaining:u,attempts:b+1,secretCode:z}})},2e3)}function j(){c&&c.stop(),r("exit")}const T=s=>O(s),w=s=>N(s);return l.$$set=s=>{"config"in s&&t(0,o=s.config)},l.$$.update=()=>{l.$$.dirty[0]&32768&&t(9,n=(u/1e3).toFixed(1)),l.$$.dirty[0]&3&&t(8,i=o.attempts-b)},[o,b,f,h,k,z,E,D,i,n,A,O,N,q,j,u,T,w]}class Nl extends Le{constructor(e){super(),ze(this,e,Gl,Dl,Ce,{config:0},null,[-1,-1])}}function Lt(l,e,t){const n=l.slice();return n[36]=e[t],n}function At(l,e,t){const n=l.slice();return n[39]=e[t],n[41]=t,n}function Yl(l,e,t){const n=l.slice();return n[42]=e[t],n[41]=t,n}function Bl(l){let e;return{c(){e=p("div"),e.textContent=`${l[41]%9===0?l[41]*10:""} `,m(e,"class","dial-mark svelte-1rj9s4t"),W(e,"transform","rotate("+l[41]*10+"deg) translateY(-120px)")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function Pt(l){let e;return{c(){e=p("div"),m(e,"class","trail-mark svelte-1rj9s4t"),W(e,"opacity",(l[41]+1)/20),W(e,"transform","rotate("+l[39]+"deg) translateY(-145px)")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function jt(l){let e,t=Z(l[2]),n=[];for(let i=0;i<t.length;i+=1)n[i]=It(Lt(l,t,i));return{c(){e=p("div");for(let i=0;i<n.length;i+=1)n[i].c();m(e,"class","success-zones svelte-1rj9s4t")},m(i,o){C(i,e,o);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,o){if(o[0]&4){t=Z(i[2]);let r;for(r=0;r<t.length;r+=1){const f=Lt(i,t,r);n[r]?n[r].p(f,o):(n[r]=It(f),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&y(e),$(n,i)}}}function It(l){let e,t;return{c(){e=p("div"),m(e,"class",t="zone-indicator "+(l[36].found?"found":"")+" svelte-1rj9s4t"),W(e,"transform","rotate("+(l[36].start+l[36].end)/2+"deg) translateY(-145px)"),W(e,"width",l[36].end-l[36].start+"px")},m(n,i){C(n,e,i)},p(n,i){i[0]&4&&t!==(t="zone-indicator "+(n[36].found?"found":"")+" svelte-1rj9s4t")&&m(e,"class",t),i[0]&4&&W(e,"transform","rotate("+(n[36].start+n[36].end)/2+"deg) translateY(-145px)"),i[0]&4&&W(e,"width",n[36].end-n[36].start+"px")},d(n){n&&y(e)}}}function Ft(l){let e,t;return{c(){e=p("div"),t=F(l[5]),m(e,"class","visual-feedback svelte-1rj9s4t"),W(e,"color",l[6])},m(n,i){C(n,e,i),d(e,t)},p(n,i){i[0]&32&&Q(t,n[5]),i[0]&64&&W(e,"color",n[6])},d(n){n&&y(e)}}}function Mt(l){let e;function t(o,r){return o[1]==="success"?Xl:Ul}let n=t(l),i=n(l);return{c(){e=p("div"),i.c(),m(e,"class","game-over svelte-1rj9s4t")},m(o,r){C(o,e,r),i.m(e,null)},p(o,r){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&y(e),i.d()}}}function Ul(l){let e,t,n,i,o,r,f=l[0].zones+"",u,c;return{c(){e=p("h2"),e.textContent="Safe Not Cracked",t=R(),n=p("p"),i=F("You found "),o=F(l[3]),r=F(" out of "),u=F(f),c=F(" zones."),m(e,"class","failure-message svelte-1rj9s4t")},m(b,h){C(b,e,h),C(b,t,h),C(b,n,h),d(n,i),d(n,o),d(n,r),d(n,u),d(n,c)},p(b,h){h[0]&8&&Q(o,b[3]),h[0]&1&&f!==(f=b[0].zones+"")&&Q(u,f)},d(b){b&&(y(e),y(t),y(n))}}}function Xl(l){let e;return{c(){e=p("h2"),e.textContent="Safe Cracked!",m(e,"class","success-message svelte-1rj9s4t")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function Zl(l){let e,t,n,i,o,r,f,u,c,b,h,k,z,E,D,A=l[0].zones+"",P,L,M,O,N,q,I,g,j,T,w,s,a,_,v,S,X,G,fe,se,qe,Ae,B,U,H,ne,re,ue=l[0].zones+"",me,He,Je,Ne,Ve,Re,Pe,Ye,Ke,We=Z(Array(36)),pe=[];for(let Y=0;Y<We.length;Y+=1)pe[Y]=Bl(Yl(l,We,Y));let ve=Z(l[12].slice(-20)),x=[];for(let Y=0;Y<ve.length;Y+=1)x[Y]=Pt(At(l,ve,Y));let ee=(l[1]==="success"||l[1]==="failure")&&jt(l),te=l[7]&&Ft(l),le=(l[1]==="success"||l[1]==="failure")&&Mt(l);return{c(){e=p("div"),t=p("div"),n=p("div"),i=F("Time: "),o=F(l[10]),r=F("s"),f=R(),u=p("div"),c=F("Rotations: "),b=F(l[9]),h=R(),k=p("div"),z=F("Zones: "),E=F(l[3]),D=F("/"),P=F(A),L=R(),M=p("div"),O=p("div"),N=p("div"),q=p("div");for(let Y=0;Y<pe.length;Y+=1)pe[Y].c();I=R(),g=p("div"),j=p("div"),T=R(),w=p("div"),s=R(),a=p("div"),v=R(),S=p("div"),X=R(),G=p("div"),fe=R(),se=p("div");for(let Y=0;Y<x.length;Y+=1)x[Y].c();qe=R(),ee&&ee.c(),Ae=R(),te&&te.c(),B=R(),le&&le.c(),U=R(),H=p("div"),ne=p("p"),re=F("Rotate the dial to find the "),me=F(ue),He=F(" correct positions"),Je=R(),Ne=p("p"),Ne.textContent=`You have ${l[11]} full rotations to find all zones`,Ve=R(),Re=p("div"),Pe=p("button"),Pe.textContent="Exit",m(n,"class","timer svelte-1rj9s4t"),m(u,"class","rotations svelte-1rj9s4t"),m(k,"class","zones svelte-1rj9s4t"),m(t,"class","header svelte-1rj9s4t"),m(q,"class","dial-markings svelte-1rj9s4t"),m(j,"class","dial-grip svelte-1rj9s4t"),m(w,"class","dial-grip svelte-1rj9s4t"),W(w,"transform","rotate(120deg)"),m(a,"class","dial-grip svelte-1rj9s4t"),W(a,"transform","rotate(240deg)"),m(g,"class","dial svelte-1rj9s4t"),m(g,"id","dial"),m(g,"style",_=l[8]+"; background-color: "+l[4]),m(S,"class","dial-center svelte-1rj9s4t"),m(G,"class","dial-indicator svelte-1rj9s4t"),m(N,"class","dial-container svelte-1rj9s4t"),m(O,"class","safe svelte-1rj9s4t"),m(se,"class","dial-trail svelte-1rj9s4t"),m(M,"class","game-area svelte-1rj9s4t"),m(H,"class","instructions svelte-1rj9s4t"),m(Pe,"class","exit-btn svelte-1rj9s4t"),m(Re,"class","footer svelte-1rj9s4t"),m(e,"class","safe-cracker svelte-1rj9s4t")},m(Y,ie){C(Y,e,ie),d(e,t),d(t,n),d(n,i),d(n,o),d(n,r),d(t,f),d(t,u),d(u,c),d(u,b),d(t,h),d(t,k),d(k,z),d(k,E),d(k,D),d(k,P),d(e,L),d(e,M),d(M,O),d(O,N),d(N,q);for(let K=0;K<pe.length;K+=1)pe[K]&&pe[K].m(q,null);d(N,I),d(N,g),d(g,j),d(g,T),d(g,w),d(g,s),d(g,a),d(N,v),d(N,S),d(N,X),d(N,G),d(M,fe),d(M,se);for(let K=0;K<x.length;K+=1)x[K]&&x[K].m(se,null);d(M,qe),ee&&ee.m(M,null),d(M,Ae),te&&te.m(M,null),d(e,B),le&&le.m(e,null),d(e,U),d(e,H),d(H,ne),d(ne,re),d(ne,me),d(ne,He),d(H,Je),d(H,Ne),d(e,Ve),d(e,Re),d(Re,Pe),Ye||(Ke=oe(Pe,"click",l[13]),Ye=!0)},p(Y,ie){if(ie[0]&1024&&Q(o,Y[10]),ie[0]&512&&Q(b,Y[9]),ie[0]&8&&Q(E,Y[3]),ie[0]&1&&A!==(A=Y[0].zones+"")&&Q(P,A),ie[0]&272&&_!==(_=Y[8]+"; background-color: "+Y[4])&&m(g,"style",_),ie[0]&4096){ve=Z(Y[12].slice(-20));let K;for(K=0;K<ve.length;K+=1){const Qe=At(Y,ve,K);x[K]?x[K].p(Qe,ie):(x[K]=Pt(Qe),x[K].c(),x[K].m(se,null))}for(;K<x.length;K+=1)x[K].d(1);x.length=ve.length}Y[1]==="success"||Y[1]==="failure"?ee?ee.p(Y,ie):(ee=jt(Y),ee.c(),ee.m(M,Ae)):ee&&(ee.d(1),ee=null),Y[7]?te?te.p(Y,ie):(te=Ft(Y),te.c(),te.m(M,null)):te&&(te.d(1),te=null),Y[1]==="success"||Y[1]==="failure"?le?le.p(Y,ie):(le=Mt(Y),le.c(),le.m(e,U)):le&&(le.d(1),le=null),ie[0]&1&&ue!==(ue=Y[0].zones+"")&&Q(me,ue)},i:V,o:V,d(Y){Y&&y(e),$(pe,Y),$(x,Y),ee&&ee.d(),te&&te.d(),le&&le.d(),Ye=!1,Ke()}}}const Hl=360,Jl=10,Vl=30;function Ot(l,e,t,n){const i=l-t,o=e-n;let r=Math.atan2(o,i)*(180/Math.PI);return r<0&&(r+=360),r}function Kl(l,e,t){let n,i,o,{config:r}=e;const f=Me();let u="idle",c=r.duration,b,h=0,k=0,z=r.maxRotations,E=!1,D=0,A=null,P=[],L=0,M=[],O="#444",N="",q="white",I=!1,g=null;Ee(()=>(A=document.getElementById("dial"),j(),b=new we(r.duration,B=>{t(14,c=B)},()=>{se(!1)}),T(),A&&(A.addEventListener("mousedown",w),document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),A.addEventListener("touchstart",_),document.addEventListener("touchmove",v),document.addEventListener("touchend",S)),()=>{A&&(A.removeEventListener("mousedown",w),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),A.removeEventListener("touchstart",_),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",S)),b&&b.stop(),g&&clearTimeout(g)}));function j(){t(2,P=[]);for(let B=0;B<r.zones;B++){let U=de(Jl,Vl),H,ne;do{ne=!1,H=de(0,Hl-U);for(const re of P)if(H>=re.start&&H<=re.end||H+U>=re.start&&H+U<=re.end||re.start>=H&&re.start<=H+U){ne=!0;break}}while(ne);P.push({start:H,end:H+U,found:!1})}}function T(){t(1,u="playing"),b.start(),J("start",.7,r.soundEnabled)}function w(B){if(u!=="playing")return;B.preventDefault(),E=!0;const U=A==null?void 0:A.getBoundingClientRect();if(!U)return;const H=U.left+U.width/2,ne=U.top+U.height/2;D=Ot(B.clientX,B.clientY,H,ne)}function s(B){if(!E||u!=="playing")return;const U=A==null?void 0:A.getBoundingClientRect();if(!U)return;const H=U.left+U.width/2,ne=U.top+U.height/2,re=Ot(B.clientX,B.clientY,H,ne),ue=re-D;let me=ue;ue>180?me=ue-360:ue<-180&&(me=ue+360),X(me),D=re}function a(){E=!1}function _(B){if(B.touches.length===1){const U=B.touches[0],H=new MouseEvent("mousedown",{clientX:U.clientX,clientY:U.clientY});w(H)}}function v(B){if(B.touches.length===1){B.preventDefault();const U=B.touches[0],H=new MouseEvent("mousemove",{clientX:U.clientX,clientY:U.clientY});s(H)}}function S(){a()}function X(B){t(15,h=(h+B)%360),h<0&&t(15,h+=360),M.push(h),M.length>100&&M.shift(),G()}function G(){for(let B=0;B<P.length;B++){const U=P[B];if(!U.found&&h>=U.start&&h<=U.end){if(U.found=!0,t(3,L++,L),J("correct",.5,r.soundEnabled),fe(`Found zone ${L}/${r.zones}!`,"#4CAF50"),navigator.vibrate&&navigator.vibrate(100),L===r.zones){se(!0);return}if(t(16,k++,k),k>=z){se(!1);return}t(4,O="#4CAF50"),setTimeout(()=>{t(4,O="#444")},300)}}}function fe(B,U){t(5,N=B),t(6,q=U),t(7,I=!0),g&&clearTimeout(g),g=setTimeout(()=>{t(7,I=!1)},2e3)}function se(B){b.stop(),t(1,u=B?"success":"failure"),J(B?"success":"failure",.5,r.soundEnabled),B||qe(),setTimeout(()=>{f("complete",{success:B,data:{timeRemaining:c,zonesFound:L,totalZones:r.zones}})},2e3)}function qe(){for(const B of P)B.found||(B.found=!0)}function Ae(){b&&b.stop(),f("exit")}return l.$$set=B=>{"config"in B&&t(0,r=B.config)},l.$$.update=()=>{l.$$.dirty[0]&16384&&t(10,n=(c/1e3).toFixed(1)),l.$$.dirty[0]&65536&&t(9,i=z-k),l.$$.dirty[0]&32768&&t(8,o=`transform: rotate(${h}deg)`)},[r,u,P,L,O,N,q,I,o,i,n,z,M,Ae,c,h,k]}class Wl extends Le{constructor(e){super(),ze(this,e,Kl,Zl,Ce,{config:0},null,[-1,-1])}}function qt(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Rt(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function Dt(l,e,t){const n=l.slice();return n[32]=e[t],n}function Ql(l){let e,t=l[0].charAt(0).toUpperCase()+l[0].slice(1)+"",n;return{c(){e=F("Phase: "),n=F(t)},m(i,o){C(i,e,o),C(i,n,o)},p(i,o){o[0]&1&&t!==(t=i[0].charAt(0).toUpperCase()+i[0].slice(1)+"")&&Q(n,t)},d(i){i&&(y(e),y(n))}}}function $l(l){let e,t,n,i=l[3].length+"",o;return{c(){e=F("Phase: Recall Pattern "),t=F(l[4]),n=F("/"),o=F(i)},m(r,f){C(r,e,f),C(r,t,f),C(r,n,f),C(r,o,f)},p(r,f){f[0]&16&&Q(t,r[4]),f[0]&8&&i!==(i=r[3].length+"")&&Q(o,i)},d(r){r&&(y(e),y(t),y(n),y(o))}}}function xl(l){let e;return{c(){e=F("Phase: Memorize Pattern")},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function Gt(l){let e,t;return{c(){e=p("div"),m(e,"class",t="spark "+(l[32].active?"correct-spark":"incorrect-spark")+" svelte-1lhklgw")},m(n,i){C(n,e,i)},p(n,i){i[0]&128&&t!==(t="spark "+(n[32].active?"correct-spark":"incorrect-spark")+" svelte-1lhklgw")&&m(e,"class",t)},d(n){n&&y(e)}}}function Nt(l){let e,t,n,i;function o(...c){return l[16](l[28],l[31],...c)}let r=Z(l[7].filter(o)),f=[];for(let c=0;c<r.length;c+=1)f[c]=Gt(Dt(l,r,c));function u(){return l[17](l[28],l[31])}return{c(){e=p("div");for(let c=0;c<f.length;c+=1)f[c].c();t=R(),m(e,"class","cell svelte-1lhklgw"),ae(e,"active",l[0]==="memorize"&&l[29]),ae(e,"selected",l[2][l[28]][l[31]]),ae(e,"correct",l[0]!=="solving"&&l[29]&&l[2][l[28]][l[31]]),ae(e,"incorrect",l[0]!=="solving"&&!l[29]&&l[2][l[28]][l[31]])},m(c,b){C(c,e,b);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null);d(e,t),n||(i=oe(e,"click",u),n=!0)},p(c,b){if(l=c,b[0]&128){r=Z(l[7].filter(o));let h;for(h=0;h<r.length;h+=1){const k=Dt(l,r,h);f[h]?f[h].p(k,b):(f[h]=Gt(k),f[h].c(),f[h].m(e,t))}for(;h<f.length;h+=1)f[h].d(1);f.length=r.length}b[0]&3&&ae(e,"active",l[0]==="memorize"&&l[29]),b[0]&4&&ae(e,"selected",l[2][l[28]][l[31]]),b[0]&7&&ae(e,"correct",l[0]!=="solving"&&l[29]&&l[2][l[28]][l[31]]),b[0]&7&&ae(e,"incorrect",l[0]!=="solving"&&!l[29]&&l[2][l[28]][l[31]])},d(c){c&&y(e),$(f,c),n=!1,i()}}}function Yt(l){let e,t=Z(l[26]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Nt(Rt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ge()},m(i,o){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,o);C(i,e,o)},p(i,o){if(o[0]&1159){t=Z(i[26]);let r;for(r=0;r<t.length;r+=1){const f=Rt(i,t,r);n[r]?n[r].p(f,o):(n[r]=Nt(f),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&y(e),$(n,i)}}}function Bt(l){let e;return{c(){e=p("div"),m(e,"class","explosion svelte-1lhklgw")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function en(l){let e,t,n,i=3-l[5]+"",o,r;return{c(){e=p("p"),e.textContent="Select the cells that were highlighted in the pattern",t=R(),n=p("p"),o=F(i),r=F(" incorrect selections remaining"),m(n,"class","warning svelte-1lhklgw")},m(f,u){C(f,e,u),C(f,t,u),C(f,n,u),d(n,o),d(n,r)},p(f,u){u[0]&32&&i!==(i=3-f[5]+"")&&Q(o,i)},d(f){f&&(y(e),y(t),y(n))}}}function tn(l){let e;return{c(){e=p("p"),e.textContent="Memorize the highlighted pattern!"},m(t,n){C(t,e,n)},p:V,d(t){t&&y(e)}}}function Ut(l){let e;function t(o,r){return o[0]==="success"?nn:ln}let n=t(l),i=n(l);return{c(){e=p("div"),i.c(),m(e,"class","game-over svelte-1lhklgw")},m(o,r){C(o,e,r),i.m(e,null)},p(o,r){n!==(n=t(o))&&(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&y(e),i.d()}}}function ln(l){let e,t,n;return{c(){e=p("h2"),e.textContent="Hack Failed",t=R(),n=p("p"),n.textContent="The circuit has been damaged",m(e,"class","failure-message svelte-1lhklgw")},m(i,o){C(i,e,o),C(i,t,o),C(i,n,o)},d(i){i&&(y(e),y(t),y(n))}}}function nn(l){let e;return{c(){e=p("h2"),e.textContent="Hack Successful!",m(e,"class","success-message svelte-1lhklgw")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function on(l){let e,t,n,i,o,r,f,u,c,b,h,k,z,E,D,A,P,L,M,O,N;function q(S,X){return S[0]==="memorize"?xl:S[0]==="solving"?$l:Ql}let I=q(l),g=I(l),j=Z(l[1]),T=[];for(let S=0;S<j.length;S+=1)T[S]=Yt(qt(l,j,S));let w=l[6]&&Bt();function s(S,X){if(S[0]==="memorize")return tn;if(S[0]==="solving")return en}let a=s(l),_=a&&a(l),v=(l[0]==="success"||l[0]==="failure")&&Ut(l);return{c(){e=p("div"),t=p("div"),n=p("div"),i=F("Time: "),o=F(l[9]),r=F("s"),f=R(),u=p("div"),g.c(),c=R(),b=p("div"),h=p("div"),k=p("div");for(let S=0;S<T.length;S+=1)T[S].c();z=R(),w&&w.c(),E=R(),D=p("div"),_&&_.c(),A=R(),v&&v.c(),P=R(),L=p("div"),M=p("button"),M.textContent="Exit",m(n,"class","timer svelte-1lhklgw"),m(u,"class","phase svelte-1lhklgw"),m(t,"class","header svelte-1lhklgw"),m(k,"class","grid svelte-1lhklgw"),m(k,"style",l[8]),m(h,"class","circuit-board svelte-1lhklgw"),m(b,"class","game-container svelte-1lhklgw"),m(D,"class","instructions svelte-1lhklgw"),m(M,"class","exit-btn svelte-1lhklgw"),m(L,"class","footer svelte-1lhklgw"),m(e,"class","thermite-game svelte-1lhklgw")},m(S,X){C(S,e,X),d(e,t),d(t,n),d(n,i),d(n,o),d(n,r),d(t,f),d(t,u),g.m(u,null),d(e,c),d(e,b),d(b,h),d(h,k);for(let G=0;G<T.length;G+=1)T[G]&&T[G].m(k,null);d(h,z),w&&w.m(h,null),d(e,E),d(e,D),_&&_.m(D,null),d(e,A),v&&v.m(e,null),d(e,P),d(e,L),d(L,M),O||(N=oe(M,"click",l[11]),O=!0)},p(S,X){if(X[0]&512&&Q(o,S[9]),I===(I=q(S))&&g?g.p(S,X):(g.d(1),g=I(S),g&&(g.c(),g.m(u,null))),X[0]&1159){j=Z(S[1]);let G;for(G=0;G<j.length;G+=1){const fe=qt(S,j,G);T[G]?T[G].p(fe,X):(T[G]=Yt(fe),T[G].c(),T[G].m(k,null))}for(;G<T.length;G+=1)T[G].d(1);T.length=j.length}X[0]&256&&m(k,"style",S[8]),S[6]?w||(w=Bt(),w.c(),w.m(h,null)):w&&(w.d(1),w=null),a===(a=s(S))&&_?_.p(S,X):(_&&_.d(1),_=a&&a(S),_&&(_.c(),_.m(D,null))),S[0]==="success"||S[0]==="failure"?v?v.p(S,X):(v=Ut(S),v.c(),v.m(e,P)):v&&(v.d(1),v=null)},i:V,o:V,d(S){S&&y(e),g.d(),$(T,S),w&&w.d(),_&&_.d(),v&&v.d(),O=!1,N()}}}function rn(l,e,t){let n,i,o,r,{config:f}=e;const u=Me();let c="idle",b=f.duration,h,k=[],z=[],E=[],D=0,A=0,P=!1,L=[];Ee(()=>(M(),O(),h=new we(f.displayTime,a=>{t(13,b=a)},()=>{c==="memorize"?q():c==="solving"&&j(!1)}),N(),()=>{h&&h.stop()}));function M(){t(1,k=Array(f.gridSize).fill(null).map(()=>Array(f.gridSize).fill(!1))),t(2,z=Array(f.gridSize).fill(null).map(()=>Array(f.gridSize).fill(!1))),t(3,E=[]),t(4,D=0),t(5,A=0)}function O(){const a=f.gridSize*f.gridSize,_=Math.min(f.targetCount,a),v=[];for(let X=0;X<f.gridSize;X++)for(let G=0;G<f.gridSize;G++)v.push({row:X,col:G});const S=fl(v);t(3,E=S.slice(0,_));for(const{row:X,col:G}of E)t(1,k[X][G]=!0,k)}function N(){t(0,c="memorize"),J("start",.7,f.soundEnabled),h.start()}function q(){t(0,c="solving"),h.stop(),h=new we(f.duration,a=>{t(13,b=a)},()=>{j(!1)}),h.start(),J("phase_change",.5,f.soundEnabled)}function I(a,_){if(c!=="solving"||z[a][_])return;t(2,z[a][_]=!0,z),k[a][_]?(t(4,D++,D),J("correct",.5,f.soundEnabled),g(a,_),D===E.length&&j(!0)):(t(5,A++,A),J("error",.5,f.soundEnabled),g(a,_),A>=3&&j(!1))}function g(a,_,v){t(7,L=[...L,{row:a,col:_,active:!0}]),setTimeout(()=>{t(7,L=L.filter(S=>!(S.row===a&&S.col===_)))},800)}function j(a){h.stop(),t(0,c=a?"success":"failure"),J(a?"success":"failure",.5,f.soundEnabled),a||(t(6,P=!0),t(2,z=JSON.parse(JSON.stringify(k)))),setTimeout(()=>{u("complete",{success:a,data:{timeRemaining:b,correctSelections:D,incorrectSelections:A,totalTargets:E.length}})},a?1500:2500)}function T(){h&&h.stop(),u("exit")}const w=(a,_,v)=>v.row===a&&v.col===_,s=(a,_)=>I(a,_);return l.$$set=a=>{"config"in a&&t(12,f=a.config)},l.$$.update=()=>{l.$$.dirty[0]&8192&&t(9,n=(b/1e3).toFixed(1)),l.$$.dirty[0]&4096&&t(15,i=Math.min(500/f.gridSize,80)),l.$$.dirty[0]&4096&&t(14,o=Math.max(6-f.gridSize,2)),l.$$.dirty[0]&53248&&t(8,r=`grid-template-columns: repeat(${f.gridSize}, ${i}px); gap: ${o}px;`)},[c,k,z,E,D,A,P,L,r,n,I,T,f,b,o,i,w,s]}class sn extends Le{constructor(e){super(),ze(this,e,rn,on,Ce,{config:12},null,[-1,-1])}}const{window:cn}=el;function Xt(l){let e,t,n,i;const o=[_n,hn,dn,an,un,fn],r=[];function f(u,c){return u[1]==="memory_sequence"?0:u[1]==="circuit_solver"?1:u[1]==="code_cracker"?2:u[1]==="safe_cracker"?3:u[1]==="thermite"?4:5}return t=f(l),n=r[t]=o[t](l),{c(){e=p("div"),n.c(),m(e,"class","minigame-container svelte-19ys8qh")},m(u,c){C(u,e,c),r[t].m(e,null),i=!0},p(u,c){let b=t;t=f(u),t===b?r[t].p(u,c):(Kt(),he(r[b],1,1,()=>{r[b]=null}),Wt(),n=r[t],n?n.p(u,c):(n=r[t]=o[t](u),n.c()),ce(n,1),n.m(e,null))},i(u){i||(ce(n),i=!0)},o(u){he(n),i=!1},d(u){u&&y(e),r[t].d()}}}function fn(l){let e,t,n,i,o,r;return{c(){e=p("div"),t=p("h2"),t.textContent="Error: Unknown minigame type",n=R(),i=p("button"),i.textContent="Exit",m(i,"class","svelte-19ys8qh"),m(e,"class","error svelte-19ys8qh")},m(f,u){C(f,e,u),d(e,t),d(e,n),d(e,i),o||(r=oe(i,"click",l[4]),o=!0)},p:V,i:V,o:V,d(f){f&&y(e),o=!1,r()}}}function un(l){let e,t;return e=new sn({props:{config:l[2]}}),e.$on("complete",l[10]),e.$on("exit",l[4]),{c(){Oe(e.$$.fragment)},m(n,i){Se(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.config=n[2]),e.$set(o)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function an(l){let e,t;return e=new Wl({props:{config:l[2]}}),e.$on("complete",l[9]),e.$on("exit",l[4]),{c(){Oe(e.$$.fragment)},m(n,i){Se(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.config=n[2]),e.$set(o)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function dn(l){let e,t;return e=new Nl({props:{config:l[2]}}),e.$on("complete",l[8]),e.$on("exit",l[4]),{c(){Oe(e.$$.fragment)},m(n,i){Se(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.config=n[2]),e.$set(o)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function hn(l){let e,t;return e=new Ol({props:{config:l[2]}}),e.$on("complete",l[7]),e.$on("exit",l[4]),{c(){Oe(e.$$.fragment)},m(n,i){Se(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.config=n[2]),e.$set(o)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function _n(l){let e,t;return e=new kl({props:{config:l[2]}}),e.$on("complete",l[6]),e.$on("exit",l[4]),{c(){Oe(e.$$.fragment)},m(n,i){Se(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.config=n[2]),e.$set(o)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function mn(l){let e,t,n,i,o=l[0]&&Xt(l);return{c(){e=p("main"),o&&o.c(),m(e,"class","svelte-19ys8qh"),ae(e,"active",l[0])},m(r,f){C(r,e,f),o&&o.m(e,null),t=!0,n||(i=oe(cn,"keydown",l[5]),n=!0)},p(r,[f]){r[0]?o?(o.p(r,f),f&1&&ce(o,1)):(o=Xt(r),o.c(),ce(o,1),o.m(e,null)):o&&(Kt(),he(o,1,1,()=>{o=null}),Wt()),(!t||f&1)&&ae(e,"active",r[0])},i(r){t||(ce(o),t=!0)},o(r){he(o),t=!1},d(r){r&&y(e),o&&o.d(),n=!1,i()}}}function pn(l,e,t){let n=!1,i="",o={};Ee(()=>{window.addEventListener("message",E=>{const{action:D,minigameType:A,config:P}=E.data;D==="startMinigame"&&(t(0,n=!0),t(1,i=A),t(2,o=P))})});function r(E,D={}){fetch("https://qbx_minigames/minigameComplete",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({success:E,data:D})}),t(0,n=!1),t(1,i=""),t(2,o={})}function f(){fetch("https://qbx_minigames/minigameExit",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}),t(0,n=!1),t(1,i=""),t(2,o={})}function u(E){E.key==="Escape"&&n&&f()}return[n,i,o,r,f,u,E=>r(E.detail.success,E.detail.data),E=>r(E.detail.success,E.detail.data),E=>r(E.detail.success,E.detail.data),E=>r(E.detail.success,E.detail.data),E=>r(E.detail.success,E.detail.data)]}class gn extends Le{constructor(e){super(),ze(this,e,pn,mn,Ce,{})}}new gn({target:document.getElementById("app")});
